# –ò—Ç–æ–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

## ‚úÖ –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ Frontend:

### 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã:
- ‚úÖ `components/AuthForm.tsx` - —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–∞–¥–º–∏–Ω-–≤—Ö–æ–¥–∞
- ‚úÖ `components/PremiereSidebar.tsx` - –±–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏ –¥–ª—è –ø—Ä–µ–º—å–µ—Ä (—Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞)
- ‚úÖ `components/MatchLinksPage.tsx` - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –ø–æ—Å–ª–µ –º–∞—Ç—á–∞
- ‚úÖ `components/AdminPanel.tsx` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–º—å–µ—Ä–∞–º–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `api/api.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `App.tsx` - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å email –∏ –ø–∞—Ä–æ–ª–µ–º
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–æ–≤
- ‚úÖ –ë–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏ —Å –ø—Ä–µ–º—å–µ—Ä–∞–º–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –ø–æ—Å–ª–µ –º–∞—Ç—á–∞ (–ö–∏–Ω–æ–ø–æ–∏—Å–∫, –°—Ç–∞—Ä—Ç, –û–∫–∫–æ)
- ‚úÖ –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–µ–º—å–µ—Ä–∞–º–∏

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ Backend:

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
cd /Users/maksimzagorodnev/Downloads/kinoswipe
docker-compose exec postgres psql -U kinoswipe -d kinoswipe -f /app/migrations/000002_add_premieres_and_auth.up.sql
```

–ò–ª–∏ —á–µ—Ä–µ–∑ golang-migrate:
```bash
docker-compose run --rm migrate -path /migrations -database "postgres://kinoswipe:kinoswipe123@postgres:5432/kinoswipe?sslmode=disable" up
```

### 2. –°–æ–∑–¥–∞—Ç—å handlers (—Å–º. —Ñ–∞–π–ª `–ù–û–í–´–ï_–§–£–ù–ö–¶–ò–ò.md`):

- `handlers/auth_handler.go` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `handlers/premiere_handler.go` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–º—å–µ—Ä–∞–º–∏
- `handlers/match_link_handler.go` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏ –¥–ª—è –º–∞—Ç—á–µ–π

### 3. –°–æ–∑–¥–∞—Ç—å repositories:

- `repository/premiere_repository.go`
- `repository/match_link_repository.go`

### 4. –û–±–Ω–æ–≤–∏—Ç—å `cmd/server/main.go`:

–î–æ–±–∞–≤–∏—Ç—å —Ä–æ—É—Ç—ã:
```go
// Auth routes
api.HandleFunc("/auth/register", authHandler.Register).Methods("POST")
api.HandleFunc("/auth/login", authHandler.Login).Methods("POST")

// Premiere routes
api.HandleFunc("/premieres", premiereHandler.GetPremieres).Methods("GET")
api.HandleFunc("/premieres", premiereHandler.CreatePremiere).Methods("POST")
api.HandleFunc("/premieres/{id}", premiereHandler.UpdatePremiere).Methods("PUT")
api.HandleFunc("/premieres/{id}", premiereHandler.DeletePremiere).Methods("DELETE")

// Match links routes
api.HandleFunc("/matches/{match_id}/links", matchLinkHandler.GetMatchLinks).Methods("GET")
api.HandleFunc("/matches/{match_id}/links", matchLinkHandler.CreateMatchLink).Methods("POST")
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–ª—è —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π:

–í `go.mod` –¥–æ–±–∞–≤–∏—Ç—å:
```
require golang.org/x/crypto v0.17.0
```

–ó–∞—Ç–µ–º:
```bash
go mod tidy
```

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é (—Å–º. –≤—ã—à–µ)

### 2. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ (–≤—Ä—É—á–Ω—É—é –≤ –ë–î):

```sql
-- –•–µ—à –ø–∞—Ä–æ–ª—è "admin123" (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bcrypt –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
INSERT INTO users (id, username, email, password_hash, user_type)
VALUES (
    gen_random_uuid(),
    'admin',
    'admin@kinoswipe.ru',
    '$2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy', -- admin123
    'admin'
);
```

### 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
# Backend
docker-compose build app
docker-compose up -d app

# Frontend
docker-compose build frontend
docker-compose up -d frontend
```

### 4. –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞:
- Mac: `Cmd + Shift + R`
- –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

### –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000`
2. –í—ã–±–µ—Ä–∏—Ç–µ "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É (–∏–º—è, email, –ø–∞—Ä–æ–ª—å)
4. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤:
1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∫–ª–∞–¥–∫—É "–ê–¥–º–∏–Ω"
3. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞
4. –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
5. –í —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–µ–º—å–µ—Ä—ã" –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–µ–º—å–µ—Ä—ã
6. –ü—Ä–µ–º—å–µ—Ä—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –±–æ–∫–æ–≤—ã—Ö –ø–∞–Ω–µ–ª—è—Ö –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

### –ü–æ—Å–ª–µ –º–∞—Ç—á–∞:
1. –ö–æ–≥–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–∞—Ç—á, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
2. –ù–∞–∂–º–∏—Ç–µ "–ì–¥–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å?"
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ (–ö–∏–Ω–æ–ø–æ–∏—Å–∫, –°—Ç–∞—Ä—Ç, –û–∫–∫–æ –∏ –¥—Ä.)
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Å—Å—ã–ª–∫—É –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- –ë–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö —à–∏—Ä–µ 1200px
- –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –ø–∞–Ω–µ–ª–∏ —Å–∫—Ä—ã—Ç—ã
- –ü—Ä–µ–º—å–µ—Ä—ã –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—â–∞—Ç—å —Å–ª–µ–≤–∞ –∏–ª–∏ —Å–ø—Ä–∞–≤–∞
- –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–µ–º—å–µ—Ä–∞–º–∏ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –ü–æ—Å–ª–µ –º–∞—Ç—á–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **Backend handlers –µ—â–µ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã** - –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –∏—Ö –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `–ù–û–í–´–ï_–§–£–ù–ö–¶–ò–ò.md`
2. **–ú–∏–≥—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∞** –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
3. **–ü–µ—Ä–≤—ã–π –∞–¥–º–∏–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω –≤—Ä—É—á–Ω—É—é** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
4. **–ü–∞—Ä–æ–ª–∏ –¥–æ–ª–∂–Ω—ã —Ö–µ—à–∏—Ä–æ–≤–∞—Ç—å—Å—è** —Å –ø–æ–º–æ—â—å—é bcrypt

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- –í—Å–µ –ø–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt
- –ê–¥–º–∏–Ω—Å–∫–∏–µ —Ä–æ—É—Ç—ã –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π

---

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ backend –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `–ù–û–í–´–ï_–§–£–ù–ö–¶–ò–ò.md`**
