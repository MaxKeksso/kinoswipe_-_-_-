# Исправление авторизации администратора

## Проблема
Ошибка "Invalid email or password" при входе в админку.

## Причина
PostgreSQL `crypt()` и Go `bcrypt` используют разные форматы хешей.

## Решение

### Вариант 1: Использовать правильный скрипт (рекомендуется)

```bash
cd /Users/maksimzagorodnev/Downloads/kinoswipe
bash scripts/create_admin_simple.sh
```

Этот скрипт использует правильный bcrypt хеш, совместимый с Go.

### Вариант 2: Создать через API (если есть endpoint)

Можно создать админа через регистрацию, а затем обновить тип через SQL:

```bash
# Сначала зарегистрируйте пользователя через форму регистрации
# Затем обновите тип через SQL:
docker-compose exec -T postgres psql -U kinoswipe -d kinoswipe -c "
UPDATE users 
SET user_type = 'admin' 
WHERE email = 'admin@kinoswipe.ru';
"
```

### Вариант 3: Проверить существующего админа

```bash
docker-compose exec -T postgres psql -U kinoswipe -d kinoswipe -c "
SELECT id, username, email, user_type, 
       CASE WHEN password_hash IS NOT NULL THEN 'Есть' ELSE 'Нет' END as has_password
FROM users 
WHERE email = 'admin@kinoswipe.ru';
"
```

## Данные для входа

**Email:** `admin@kinoswipe.ru`  
**Пароль:** `admin123`

## После исправления

1. Выполните `bash scripts/create_admin_simple.sh`
2. Перезапустите backend: `docker-compose restart app`
3. Попробуйте войти снова

---

**Выполните команду выше для исправления!**
